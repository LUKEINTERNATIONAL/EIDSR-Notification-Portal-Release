{"version":3,"sources":["webpack:///./src/services/MessageService.js","webpack:///./src/views/dashboard/pages/Message/Messages.vue?b0d5","webpack:///src/views/dashboard/pages/Message/Messages.vue","webpack:///./src/views/dashboard/pages/Message/Messages.vue?7685","webpack:///./src/views/dashboard/pages/Message/Messages.vue","webpack:///./src/views/dashboard/pages/Message/Messages.vue?4298"],"names":["index","Api","get","getYearMessages","post","message","show","messageId","put","delete","render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","scopedSlots","_u","key","fn","_v","staticStyle","model","value","callback","$$v","search","expression","proxy","_l","id","_s","respondent_id","body","status","emailStatus","email_status","moment","createdAt","format","on","$event","deleteMessage","staticRenderFns","components","data","messages","fullPage","toBeFilteredMessages","watch","newQuery","oldQuery","forEach","position","tempFilteredMessages","methods","navigateTo","route","$store","dispatch","$router","push","confirm","messageService","console","statusId","mounted","loader","container","canCancel","width","height","component","VBtn","VContainer","VIcon","VSimpleTable","VTextField"],"mappings":"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","file":"js/chunk-1b0af69d.9a79bffd.js","sourcesContent":["import Api from \"./api\";\n\nexport default {\n    index () {\n        return Api().get(`messages`, {})\n    },\n\n    getYearMessages () {\n        return Api().get(`messages/year`, {})\n    },\n\n    post (message) {\n        return Api().post(`message`,message)\n    },\n\n    show(messageId) {\n        return Api().get(`messages/${messageId}`)\n    },\n\n    put(message,messageId) {\n        return Api().put(`message/${messageId}`,message)\n    },\n\n    delete (messageId) {\n        return Api().delete(`message/${messageId}`)\n    }\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"regular-tables\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('base-material-card',{staticClass:\"px-5 py-3\",attrs:{\"icon\":\"\",\"title\":\"\"},scopedSlots:_vm._u([{key:\"heading\",fn:function(){return [_c('div',[_c('tr',[_c('td',[_c('div',{staticClass:\"clip-b font-weight-light\"},[_c('v-icon',[_vm._v(\"mdi-clipboard-text\")])],1)]),_c('td',[_c('div',{staticClass:\"msg-bn\"},[_vm._v(\" Shows compiled messages \")])])])]),_c('div',{staticClass:\"font-weight-light\",staticStyle:{\"float\":\"right\",\"margin-top\":\"-60px\"}},[_c('v-text-field',{staticClass:\"mx-4\",attrs:{\"label\":\"Search\"},model:{value:(_vm.search),callback:function ($$v) {_vm.search=$$v},expression:\"search\"}})],1),_c('div')]},proxy:true}])},[_c('v-simple-table',[_c('thead',[_c('tr',[_c('th',{staticClass:\"primary--text\"},[_vm._v(\" ID \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Respondent ID \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Message \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" SMS Status \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Email Status \")]),_c('th',{staticClass:\"primary--text\"},[_vm._v(\" Date \")]),_c('th',{staticClass:\"primary--text\"})])]),_c('tbody',_vm._l((_vm.messages),function(message){return _c('tr',{key:message.id},[_c('td',[_vm._v(_vm._s(message.id))]),_c('td',[_vm._v(_vm._s(message.respondent_id))]),_c('td',[_vm._v(_vm._s(message.body))]),_c('td',[_vm._v(_vm._s(message.status))]),_c('td',[_vm._v(_vm._s(_vm.emailStatus(message.email_status)))]),_c('td',[_vm._v(_vm._s(_vm.moment(message.createdAt).format('MMMM Do YYYY, h:mm:ss a')))]),_c('td',{staticClass:\"action-edit-btn\"},[_c('div',{staticClass:\"tooltip\"},[_c('v-btn',{staticStyle:{\"margin-left\":\"33px\",\"background-color\":\"#e46048\"},attrs:{\"elevation\":\"3\",\"fab\":\"\"},on:{\"click\":function($event){return _vm.deleteMessage(message.id)}}},[_c('v-icon',[_vm._v(\"mdi-delete\")])],1),_c('span',{staticClass:\"tooltiptext\"},[_vm._v(\"delete\")])],1)])])}),0)])],1),_c('div',{staticClass:\"py-3\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"regular-tables\"\n    fluid\n    tag=\"section\"\n  >\n\n    <base-material-card\n      icon=\"\"\n      title=\"\"\n      class=\"px-5 py-3\"\n    >\n    <template v-slot:heading>\n      <div>\n        <tr>\n          <td>\n            <div class=\"clip-b font-weight-light\">\n              <v-icon>mdi-clipboard-text</v-icon> \n            </div>\n          </td>\n          <td>\n            <div class=\"msg-bn\">\n              Shows compiled messages\n            </div>\n          </td>\n        </tr>\n      </div>\n        <div class=\"font-weight-light\" style=\"float: right; margin-top: -60px;\">\n          <v-text-field\n          v-model=\"search\"\n          label=\"Search\"\n          class=\"mx-4\"\n          ></v-text-field>\n        </div>\n      <div>\n\n      </div>\n    </template>\n      <v-simple-table>\n        <thead>\n          <tr>\n            <th class=\"primary--text\">\n              ID\n            </th>\n            <th class=\"primary--text\">\n              Respondent ID\n            </th>\n            <th class=\"primary--text\">\n              Message\n            </th>\n            <th class=\"primary--text\">\n              SMS Status\n            </th>\n            <th class=\"primary--text\">\n              Email Status\n            </th>\n            <th class=\"primary--text\">\n              Date\n            </th>\n            <th class=\"primary--text\">\n\n            </th>\n          </tr>\n        </thead>\n\n        <tbody>\n          <tr v-for=\"message in messages\"\n              :key=\"message.id\">\n\n            <td>{{message.id}}</td>\n            <td>{{message.respondent_id}}</td>\n            <td>{{message.body}}</td>\n            <td>{{message.status}}</td>\n            <td>{{ emailStatus(message.email_status) }}</td>\n            <td>{{ moment(message.createdAt).format('MMMM Do YYYY, h:mm:ss a') }}</td>\n            <td class=\"action-edit-btn\">\n\n                <div class=\"tooltip\">\n                <v-btn\n                    style=\"margin-left: 33px; background-color: #e46048\"\n                    elevation=\"3\"\n                    fab\n                    @click=\"deleteMessage(message.id)\"\n                > <v-icon>mdi-delete</v-icon>\n                </v-btn>\n                 <span class=\"tooltiptext\">delete</span>\n                </div>\n\n            </td>\n          </tr>\n        </tbody>\n      </v-simple-table>\n    </base-material-card>\n\n    <div class=\"py-3\" />\n  </v-container>\n</template>\n\n<script>\nimport messageService from '../../../../services/MessageService'\nvar moment = require('moment')\n\nexport default {\n  components: {  },\n  data() {\n    return {\n      messages: null,\n      moment: moment,\n      fullPage: false,\n      search: '',\n      toBeFilteredMessages: null\n    }\n  },\n  watch: {\n    search(newQuery, oldQuery) {\n      if(this.messages != null) {\n        let tempFilteredMessages = []\n        this.toBeFilteredMessages.forEach(message => {\n          const position = message.body.toLowerCase().search(newQuery.toLowerCase())\n          if (position > -1) {\n            tempFilteredMessages.push(message)\n          }\n        })\n        this.messages = tempFilteredMessages\n      }\n    }\n  },\n  methods: {\n    navigateTo(route, id){\n      this.$store.dispatch('setRespondentIdEdit', id)\n      this.$router.push(route)\n    },\n    async deleteMessage(id) {\n      if(confirm(\"Do you really want to delete?\")){\n        try {\n          const message = (await messageService.delete(id)).data\n          if(!!message)\n            this.$router.go(this.$router.currentRoute)\n        } catch (err) {\n          console.log(err)\n        } \n      }\n    },\n    emailStatus(statusId) {\n      if(parseInt(statusId))\n        return \"Delivered\"\n      else \n        return \"pending\"\n    }\n  },\n  async mounted() {\n    let loader = this.$loading.show({\n      // Optional parameters\n      container: this.fullPage ? null : this.$refs.formContainer,\n      canCancel: false,\n      loader: 'spinner',\n      width: 100,\n      height: 64,\n    });\n    this.messages = (await messageService.index()).data\n    this.messages.reverse()\n    this.toBeFilteredMessages = this.messages\n    if (!!this.messages) {\n     loader.hide()\n    }\n  },\n}\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.v-icon {\n  font-size: 70px;\n}\n.action-edit-btn .v-btn--fab.v-size--default{\n  height: 30px;\n  width: 30px;\n  color: #e46048;\n}\n/* Tooltip container */\n.tooltip {\n  position: relative;\n  display: inline-block;\n  padding: inherit;\n}\n\n/* Tooltip text */\n.tooltip .tooltiptext {\n  visibility: hidden;\n  width: 50px;\n  background-color: rgb(32, 30, 30);\n  color: #fff;\n  text-align: center;\n  padding: 5px 0;\n  border-radius: 6px;\n \n  /* Position the tooltip text - see examples below! */\n  position:inherit;\n  padding: inherit !important;\n  z-index: 10;\n}\n\n/* Show the tooltip text when you mouse over the tooltip container */\n.tooltip:hover .tooltiptext {\n  visibility: visible;\n  z-index: 10;\n}\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > th, .v-data-table > .v-data-table__wrapper > table > thead > tr > th, .v-data-table > .v-data-table__wrapper > table > tfoot > tr > th {\n  font-weight: 400 !important;\n  font-size: 15px !important;\n}\n.v-data-table > .v-data-table__wrapper > table > tbody > tr > td, .v-data-table > .v-data-table__wrapper > table > thead > tr > td, .v-data-table > .v-data-table__wrapper > table > tfoot > tr > td {\n  font-weight: 400 !important;\n  font-size: 15px !important;\n}\n.msg-bn {\n  font-size: 25px !important;\n  float: bottom;\n}\n.v-data-table {\n  overflow: scroll !important;\n  max-height: 515px !important;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Messages.vue?vue&type=template&id=189b502a&scoped=true&\"\nimport script from \"./Messages.vue?vue&type=script&lang=js&\"\nexport * from \"./Messages.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Messages.vue?vue&type=style&index=0&id=189b502a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"189b502a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSimpleTable } from 'vuetify/lib/components/VDataTable';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VContainer,VIcon,VSimpleTable,VTextField})\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Messages.vue?vue&type=style&index=0&id=189b502a&scoped=true&lang=css&\""],"sourceRoot":""}