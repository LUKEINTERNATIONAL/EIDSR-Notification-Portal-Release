{"version":3,"sources":["webpack:///./src/views/dashboard/pages/CustomMessage/EditCustomMessage.vue?c3b9","webpack:///src/views/dashboard/pages/CustomMessage/EditCustomMessage.vue","webpack:///./src/views/dashboard/pages/CustomMessage/EditCustomMessage.vue?376e","webpack:///./src/views/dashboard/pages/CustomMessage/EditCustomMessage.vue","webpack:///./src/views/dashboard/pages/CustomMessage/EditCustomMessage.vue?21cd"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","rules","required","model","value","message","callback","$$v","$set","expression","items","staticStyle","domProps","_s","error","on","$event","EditCustomMessage","id","_v","staticRenderFns","data","code","body","conditions","methods","areAllFieldsFilledIn","Object","keys","every","customMessageService","name","GroupedConditionForCustomMessageService","GCFCM","vl","GCI","conditionService","generated_code_id","customMessageCode","getListItems","temArry","getListValues","gcfcm","bb","mounted","console","component","VBtn","VCol","VContainer","VForm","VRow","VSelect","VTextField","VTextarea"],"mappings":"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","file":"js/chunk-856e000c.74c61018.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{attrs:{\"id\":\"user-profile\",\"fluid\":\"\",\"tag\":\"section\"}},[_c('v-row',{attrs:{\"justify\":\"center\"}},[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"8\"}},[_c('base-material-card',{staticClass:\"px-5 py-3\",attrs:{\"icon\":\"mdi-comment-edit\",\"title\":\"\"}},[_c('v-form',[_c('v-container',{staticClass:\"py-0\"},[_c('v-row',[_c('v-col',{attrs:{\"cols\":\"12\",\"md\":\"4\"}},[_c('v-text-field',{staticClass:\"purple-input\",attrs:{\"required\":\"\",\"disabled\":\"\",\"label\":\"Code\",\"type\":\"text\",\"rules\":[_vm.rules.required]},model:{value:(_vm.message.code),callback:function ($$v) {_vm.$set(_vm.message, \"code\", $$v)},expression:\"message.code\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-select',{attrs:{\"items\":_vm.items,\"chips\":\"\",\"label\":\"Select condition(s)\",\"rules\":[_vm.rules.required],\"multiple\":\"\",\"solo\":\"\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}})],1),_c('v-col',{attrs:{\"cols\":\"12\"}},[_c('v-textarea',{staticClass:\"purple-input\",attrs:{\"label\":\"Custom Message\",\"value\":\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\",\"rules\":[_vm.rules.required]},model:{value:(_vm.message.body),callback:function ($$v) {_vm.$set(_vm.message, \"body\", $$v)},expression:\"message.body\"}})],1),_c('v-col',{staticClass:\"text-right\",attrs:{\"cols\":\"12\"}},[_c('div',{staticClass:\"error1\",staticStyle:{\"float\":\"left\"},domProps:{\"innerHTML\":_vm._s(_vm.error)}}),_c('v-btn',{staticClass:\"mr-0\",attrs:{\"color\":\"success\"},on:{\"click\":function($event){return _vm.EditCustomMessage(_vm.message.id)}}},[_vm._v(\" Submit \")])],1)],1)],1)],1)],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-container\n    id=\"user-profile\"\n    fluid\n    tag=\"section\"\n  >\n    <v-row justify=\"center\">\n      <v-col\n        cols=\"12\"\n        md=\"8\"\n      >\n        <base-material-card\n            icon=\"mdi-comment-edit\"\n            title=\"\"\n            class=\"px-5 py-3\"\n        >\n\n          <v-form>\n            <v-container class=\"py-0\">\n              <v-row>\n               \n                <v-col\n                  cols=\"12\"\n                  md=\"4\"\n                >\n                  <v-text-field\n                    class=\"purple-input\"\n                    required\n                    disabled\n                    label=\"Code\"\n                    type=\"text\"\n                    :rules=\"[rules.required]\"\n                    v-model=\"message.code\"\n                  />\n                </v-col>\n                \n                <v-col\n                  cols=\"12\"\n                >\n                  <v-select\n                    v-model=\"value\"\n                    :items=\"items\"\n                    chips\n                    label=\"Select condition(s)\"\n                    :rules=\"[rules.required]\"\n                    multiple\n                    solo\n                  ></v-select>\n                </v-col>\n\n                <v-col cols=\"12\">\n                  <v-textarea\n                    class=\"purple-input\"\n                    label=\"Custom Message\"\n                    value=\"Lorem ipsum dolor sit amet, consectetur adipiscing elit.\"\n                    :rules=\"[rules.required]\"\n                    v-model=\"message.body\"\n                  />\n                </v-col>\n\n                <v-col\n                  cols=\"12\"\n                  class=\"text-right\"\n                >\n                <div class=\"error1\" v-html=\"error\" style=\"float: left\"/>\n                  <v-btn\n                    color=\"success\"\n                    class=\"mr-0\"\n                    @click=\"EditCustomMessage(message.id)\"\n                  >\n                    Submit\n                  </v-btn>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-form>\n        </base-material-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport GroupedConditionForCustomMessageService from '@/services/GroupedConditionForCustomMessageService'\nimport customMessageService from '../../../../services/CustomMessageService'\nimport conditionService from '../../../../services/ConditionService'\n\nexport default {\n    data() {\n        return {\n            message: {\n                id: null,\n                code: this.code,\n                body: this.body,\n            },\n\n            error: null,\n            rules: {\n              required: (value) => !!value || 'Required.'\n            },\n            items: [],\n            value: [],\n            conditions: {}\n        }\n    },\n    methods: {\n      async EditCustomMessage(id){\n            this.error = null\n            const areAllFieldsFilledIn = Object\n               .keys(this.message)\n               .every(key => !!this.message[key])\n\n            if(!areAllFieldsFilledIn) {\n                this.error = \"Please fill in the required fields.\"\n                return\n            }\n            try {\n              await customMessageService.put(this.message, this.message.id)\n              this.$router.push({\n                name: 'Custom Messages'\n              })\n            } catch (err) {\n              this.error = err.response.data.error\n            }\n            /** */\n            try {\n              const GCFCM = (await GroupedConditionForCustomMessageService.multipleDelete(this.message.code))\n              if(GCFCM) {\n                for(let vl of this.value) {\n                  const GCI = conditionService.getCode(this.conditions, vl)\n                  await GroupedConditionForCustomMessageService.post({\n                    generated_code_id: GCI,\n                    customMessageCode: this.message.code\n                  })\n                }\n              }\n            } catch (error) {\n              this.error = err.response.data.error\n            }\n      },\n      async getListItems() {\n         /** drop list */\n         const conditions = (await conditionService.index()).data\n         this.conditions = conditions\n         const temArry = []\n         conditions.forEach(element => {\n            temArry.push(element.name)\n         })\n         this.items = temArry\n      },\n      async getListValues(code) {\n          const GCFCM = (await GroupedConditionForCustomMessageService.findRelatedCustomMessageID(code)).data\n          for (const gcfcm of GCFCM) {\n            let bb = (await conditionService.getSingleCondition(gcfcm.generated_code_id)).data\n            this.value.push(bb.name)\n          }\n      }\n    },\n     async mounted() {\n         this.error = null\n         const id = this.$store.state.customMessageEditId\n         try {\n             const data = (await customMessageService.show(id)).data\n             this.message.id = data.id\n             this.message.code = data.code\n             this.message.body = data.body\n\n             await this.getListValues(this.message.code)\n\n         } catch (err) {\n             console.log(err.response.data.error)\n         }\n         await this.getListItems()\n    }\n}\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style src=\"vue-multiselect/dist/vue-multiselect.min.css\"></style>\n<style scoped>\n#user-profile {\n  margin-bottom: 4.9%;\n}\n.error1 {\n    color: red;\n}\n</style>","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCustomMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCustomMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCustomMessage.vue?vue&type=template&id=22a1309d&scoped=true&\"\nimport script from \"./EditCustomMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCustomMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"vue-multiselect/dist/vue-multiselect.min.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./EditCustomMessage.vue?vue&type=style&index=1&id=22a1309d&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"22a1309d\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VBtn,VCol,VContainer,VForm,VRow,VSelect,VTextField,VTextarea})\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCustomMessage.vue?vue&type=style&index=1&id=22a1309d&scoped=true&lang=css&\""],"sourceRoot":""}